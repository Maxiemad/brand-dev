@tailwind base;
@tailwind components;
@tailwind utilities;

/* iOS Safari compatibility fixes */
@layer base {
  html {
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
  }
  
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-overflow-scrolling: touch;
    touch-action: manipulation;
  }
  
  /* Fix for iOS Safari viewport issues */
  @supports (-webkit-touch-callout: none) {
    .min-h-screen {
      min-height: -webkit-fill-available;
    }
    
    .h-screen {
      height: -webkit-fill-available;
    }
  }
  
  /* Prevent zoom on input focus in iOS */
  input, textarea, select {
    font-size: 16px;
  }
  
  /* iOS-specific optimizations */
  @supports (-webkit-touch-callout: none) {
    /* Disable hover effects on touch devices */
    *:hover {
      transform: none !important;
    }
    
    /* Optimize animations for iOS */
    * {
      -webkit-transform: translateZ(0);
      -webkit-backface-visibility: hidden;
      -webkit-perspective: 1000px;
    }
    
    /* iOS video handling */
    iframe, video {
      max-width: 100% !important;
      -webkit-playsinline: 1;
      playsinline: 1;
    }
    
    /* Desktop video handling */
    @media (min-width: 768px) {
      iframe, video {
        width: 100% !important;
        height: 100% !important;
      }
    }
  }
  
  /* Header specific fixes for iOS */
  header {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 99999 !important;
    background-color: white !important;
    -webkit-overflow-scrolling: touch !important;
    backface-visibility: hidden !important;
    transform: translateZ(0) !important;
    -webkit-transform: translateZ(0) !important;
    width: 100% !important;
    height: auto !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* Force header to stay on top */
  header * {
    position: relative !important;
  }
  
  /* Ensure no other elements overlap header */
  body > div:first-child {
    position: relative !important;
  }
}
